# LEGACY FORENSIC CANONICAL DOCUMENT

## ESTATUS
DOCUMENTO CAN√ìNICO ¬∑ SELLADO ¬∑ FUENTE √öNICA DE VERDAD

---

## DECLARACI√ìN ABSOLUTA

Este documento define la **verdad ejecutable** del sistema LEGACY de cotizaci√≥n de autos.

Cualquier otro archivo, reporte, an√°lisis, nota, comentario o inferencia:
- DEBE ignorarse
- NO tiene autoridad
- NO puede usarse como fuente de verdad

Este documento tiene **prioridad absoluta** sobre:
- an√°lisis del sistema actual
- reportes autom√°ticos
- inferencias del c√≥digo nuevo
- sugerencias de IA
- ‚Äúmejores pr√°cticas‚Äù

---

## ALCANCE DEL LEGACY SELLADO

El LEGACY descrito corresponde a un sistema de:

- PHP procedural
- JavaScript puro + jQuery
- MySQL
- L√≥gica distribuida
- Modelo fragmentado de aseguradoras
- C√°lculos financieros duplicados (JS + PHP)
- Validaciones expl√≠citas, impl√≠citas, accidentales y ausentes
- Generaci√≥n de PDF con html2pdf
- Dependencias AJAX cr√≠ticas

El LEGACY **NO se corrige**.  
El LEGACY **NO se mejora**.  
El LEGACY **NO se normaliza**.

El LEGACY **SE REPLICA EXACTAMENTE**.

---

## DOCUMENTOS FORNESES QUE COMPONEN LA VERDAD

La verdad del LEGACY est√° compuesta **√öNICAMENTE** por los siguientes documentos ya existentes en este repositorio:

1. `LEGACY_SYSTEM_FORENSIC_ANALYSIS.md`  
   ‚Üí An√°lisis forense completo del sistema LEGACY original  
   ‚Üí Incluye:
   - 139+ campos documentados
   - validaciones A‚ÄìE
   - c√°lculos financieros
   - dependencias AJAX
   - modelo fragmentado
   - generaci√≥n de PDF

2. `WORKFLOW_COMPARISON_LEGACY.md`  
   ‚Üí Comparaci√≥n flujo LEGACY vs sistema nuevo  
   ‚Üí Usado SOLO para ver desviaciones, no como verdad

3. `SYSTEM_CONTEXT.md`  
   ‚Üí Contexto t√©cnico del sistema actual (Laravel 12 + Vue 3)

‚ö†Ô∏è **Este archivo (LEGACY_FORENSIC_CANONICAL.md) es el √çNDICE DE AUTORIDAD**, no repite el an√°lisis: **lo Sella**.

---

## REGLA DE ORO (INVIOLABLE)

Para cualquier refactor, migraci√≥n o reimplementaci√≥n:

> **SI NO EST√Å DOCUMENTADO EN EL AN√ÅLISIS FORENSE LEGACY, NO EXISTE.**

Y si existe en el LEGACY pero:
- no se guarda
- se valida solo por colateral
- depende del orden JS
- depende de AJAX
- es un error asumido

üëâ **DEBE replicarse IGUAL**.

---

## AUTORIZACI√ìN DE REIMPLEMENTACI√ìN

Este documento AUTORIZA expl√≠citamente:

- Reimplementaci√≥n 1:1 en:
  - Laravel 12
  - Vue 3
  - MySQL

BAJO ESTAS CONDICIONES:

- ‚ùå NO cambiar nombres de campos
- ‚ùå NO cambiar f√≥rmulas
- ‚ùå NO consolidar tablas
- ‚ùå NO normalizar
- ‚ùå NO corregir errores
- ‚ùå NO mejorar UX
- ‚ùå NO eliminar validaciones defectuosas

- ‚úî Replicar validaciones impl√≠citas
- ‚úî Replicar validaciones accidentales
- ‚úî Replicar dependencias temporales
- ‚úî Replicar dependencias AJAX
- ‚úî Replicar modelo fragmentado
- ‚úî Replicar PDF tal cual

---

## PROHIBICI√ìN EXPL√çCITA

Queda **EXPRESAMENTE PROHIBIDO** que cualquier IA:

- use el sistema actual como fuente de verdad
- ‚Äúdeduzca‚Äù reglas
- ‚Äúcorrija‚Äù inconsistencias
- proponga mejoras
- use convenciones Laravel/Vue como base l√≥gica

---

## USO POR CLAUDE (INSTRUCCI√ìN DIRECTA)

Claude DEBE:

1. Leer este archivo
2. Leer `LEGACY_SYSTEM_FORENSIC_ANALYSIS.md`
3. Ignorar cualquier otro archivo forense
4. Ejecutar reimplementaci√≥n 1:1
5. Detenerse si algo no est√° documentado

---

## DECLARACI√ìN FINAL

Este LEGACY queda **CERRADO, SELLADO Y SIN ZONAS GRISES**.

Cualquier desviaci√≥n posterior ser√° considerada **ruptura de paridad funcional**.

---

**LEGACY SELLADO ‚Äî FUENTE √öNICA DE VERDAD**
